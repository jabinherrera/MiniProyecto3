

Mini Proyecto 3 - Procesamiento de texto

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

Integrantes:  
Jabin Herrera Torres  
Priscila Navarrete Campos

#### Parte 1: Carga y Exploración de Datos

**Carga del Conjunto de Datos**

Instalar dependencias

    %pip install pandas  
    %pip install db-dtype

    Importar pandas e importar el dataset

    ::: {.cell execution_count=52}
    ``` {.python .cell-code}
    import pandas as pd

    data_path="../data/datos.csv"

    df =pd.read_csv(data_path)
    df

<div class="cell-output cell-output-display" execution_count="52">

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">productAsin</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">isVerified</th>
<th data-quarto-table-cell-role="th">ratingScore</th>
<th data-quarto-table-cell-role="th">reviewTitle</th>
<th data-quarto-table-cell-role="th">reviewDescription</th>
<th data-quarto-table-cell-role="th">reviewUrl</th>
<th data-quarto-table-cell-role="th">reviewedIn</th>
<th data-quarto-table-cell-role="th">variant</th>
<th data-quarto-table-cell-role="th">variantAsin</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>11-08-2024</td>
<td>True</td>
<td>4</td>
<td>No charger</td>
<td>Every thing is good about iPhones, there's not...</td>
<td>https://www.amazon.in/gp/customer-reviews/R345...</td>
<td>Reviewed in India on 11 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>16-08-2024</td>
<td>True</td>
<td>5</td>
<td>iPhone 13 256GB</td>
<td>It look so fabulous, I am android user switche...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2HJ...</td>
<td>Reviewed in India on 16 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>14-05-2024</td>
<td>True</td>
<td>4</td>
<td>Flip camera option nill</td>
<td>I tried to flip camera while recording but no ...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3Y7...</td>
<td>Reviewed in India on 14 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>24-06-2024</td>
<td>True</td>
<td>5</td>
<td>Product</td>
<td>100% genuine</td>
<td>https://www.amazon.in/gp/customer-reviews/R1P9...</td>
<td>Reviewed in India on 24 June 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>18-05-2024</td>
<td>True</td>
<td>5</td>
<td>Good product</td>
<td>Happy to get the iPhone 13 in Amazon offer</td>
<td>https://www.amazon.in/gp/customer-reviews/R1XI...</td>
<td>Reviewed in India on 18 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3057</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-10-2023</td>
<td>True</td>
<td>1</td>
<td>Very bad experience with i phone 13</td>
<td>Useless phon never buy this heat n useless cam...</td>
<td>https://www.amazon.in/gp/customer-reviews/R10O...</td>
<td>Reviewed in India on 11 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3058</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>14-10-2022</td>
<td>True</td>
<td>2</td>
<td>not happy with this apple product</td>
<td>iam not happy with this product why because ch...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2FW...</td>
<td>Reviewed in India on 14 October 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3059</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>24-02-2022</td>
<td>True</td>
<td>3</td>
<td>Good phone</td>
<td>Good phone</td>
<td>https://www.amazon.in/gp/customer-reviews/R2C7...</td>
<td>Reviewed in India on 24 February 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3060</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>16-10-2023</td>
<td>True</td>
<td>1</td>
<td>Battery discharge</td>
<td>While charging mobile it's getting so hot even...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3K0...</td>
<td>Reviewed in India on 16 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3061</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-11-2023</td>
<td>True</td>
<td>1</td>
<td>Batter power needs to be improved</td>
<td>Battery power is be very bad need to chat on d...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2QO...</td>
<td>Reviewed in India on 11 November 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
</tr>
</tbody>
</table>

<p>3062 rows × 11 columns</p>
</div>

</div>

:::

Se identifican las columnas reviewDescription que contiene el texto de
la reseña y ratingScore que indica la valoracion, segun la valoracion
podemos identificar si la reseña es positiva o negativa.

**Descripción Inicial de los Datos**

Se cuenta la cantidad de reseñas presentes

``` python
num_filas = df.shape[0]
print(f"El DataFrame tiene {num_filas} filas.")
```

    El DataFrame tiene 3062 filas.

El dataframe tiene 3062 reseñas

Ahora veremos si hay mas reseñas positivas o negativas. En nuestro caso,
basado en la columna **ratingScore**, positivo sera mayor que 3 y menor
o igual a 3 sera negativo. Para diferenciarlo mejor, añadiremos una
columna booleana que contendra un *Positive* o *Negative*.

``` python
df['ratingPositive'] = df['ratingScore'].apply(lambda x: 'Positive' if x > 3 else 'Negative')

df.to_csv("../data/datosConColumnaPositivos.csv",index=False)

df
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">productAsin</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">isVerified</th>
<th data-quarto-table-cell-role="th">ratingScore</th>
<th data-quarto-table-cell-role="th">reviewTitle</th>
<th data-quarto-table-cell-role="th">reviewDescription</th>
<th data-quarto-table-cell-role="th">reviewUrl</th>
<th data-quarto-table-cell-role="th">reviewedIn</th>
<th data-quarto-table-cell-role="th">variant</th>
<th data-quarto-table-cell-role="th">variantAsin</th>
<th data-quarto-table-cell-role="th">ratingPositive</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>11-08-2024</td>
<td>True</td>
<td>4</td>
<td>No charger</td>
<td>Every thing is good about iPhones, there's not...</td>
<td>https://www.amazon.in/gp/customer-reviews/R345...</td>
<td>Reviewed in India on 11 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>16-08-2024</td>
<td>True</td>
<td>5</td>
<td>iPhone 13 256GB</td>
<td>It look so fabulous, I am android user switche...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2HJ...</td>
<td>Reviewed in India on 16 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>14-05-2024</td>
<td>True</td>
<td>4</td>
<td>Flip camera option nill</td>
<td>I tried to flip camera while recording but no ...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3Y7...</td>
<td>Reviewed in India on 14 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>24-06-2024</td>
<td>True</td>
<td>5</td>
<td>Product</td>
<td>100% genuine</td>
<td>https://www.amazon.in/gp/customer-reviews/R1P9...</td>
<td>Reviewed in India on 24 June 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>18-05-2024</td>
<td>True</td>
<td>5</td>
<td>Good product</td>
<td>Happy to get the iPhone 13 in Amazon offer</td>
<td>https://www.amazon.in/gp/customer-reviews/R1XI...</td>
<td>Reviewed in India on 18 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3057</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-10-2023</td>
<td>True</td>
<td>1</td>
<td>Very bad experience with i phone 13</td>
<td>Useless phon never buy this heat n useless cam...</td>
<td>https://www.amazon.in/gp/customer-reviews/R10O...</td>
<td>Reviewed in India on 11 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3058</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>14-10-2022</td>
<td>True</td>
<td>2</td>
<td>not happy with this apple product</td>
<td>iam not happy with this product why because ch...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2FW...</td>
<td>Reviewed in India on 14 October 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3059</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>24-02-2022</td>
<td>True</td>
<td>3</td>
<td>Good phone</td>
<td>Good phone</td>
<td>https://www.amazon.in/gp/customer-reviews/R2C7...</td>
<td>Reviewed in India on 24 February 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3060</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>16-10-2023</td>
<td>True</td>
<td>1</td>
<td>Battery discharge</td>
<td>While charging mobile it's getting so hot even...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3K0...</td>
<td>Reviewed in India on 16 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3061</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-11-2023</td>
<td>True</td>
<td>1</td>
<td>Batter power needs to be improved</td>
<td>Battery power is be very bad need to chat on d...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2QO...</td>
<td>Reviewed in India on 11 November 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
</tr>
</tbody>
</table>

<p>3062 rows × 12 columns</p>
</div>

Contamos la cantidad de *Positive* y *Negative*

``` python
conteo_positivos_negativos = df['ratingPositive'].value_counts()

print(conteo_positivos_negativos)
```

    ratingPositive
    Positive    2065
    Negative     997
    Name: count, dtype: int64

Hay 2065 reseñas positivas y 997 negativas.

#### Parte 2: Preprocesamiento de Texto

**Preprocesamiento del Texto**

Instalar spacy

    %pip install spacy  
    !python -m spacy download en_core_web_sm

    Tokenización  
    Ademas se quitan espacios vacios y caracteres molestos como "," y "."

    ::: {.cell execution_count=56}
    ``` {.python .cell-code}
    import spacy

    nlp = spacy.load("en_core_web_sm")

    df['reviewDescription'] = df['reviewDescription'].fillna('')

    df['preprocessedReview'] = ''

    df['preprocessedReview'] = df['reviewDescription'].apply(lambda doc: [token.text for token in nlp(doc) if not token.is_punct and not token.is_space and token.text not in ['"', "'"]])

    df

<div class="cell-output cell-output-display" execution_count="56">

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">productAsin</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">isVerified</th>
<th data-quarto-table-cell-role="th">ratingScore</th>
<th data-quarto-table-cell-role="th">reviewTitle</th>
<th data-quarto-table-cell-role="th">reviewDescription</th>
<th data-quarto-table-cell-role="th">reviewUrl</th>
<th data-quarto-table-cell-role="th">reviewedIn</th>
<th data-quarto-table-cell-role="th">variant</th>
<th data-quarto-table-cell-role="th">variantAsin</th>
<th data-quarto-table-cell-role="th">ratingPositive</th>
<th data-quarto-table-cell-role="th">preprocessedReview</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>11-08-2024</td>
<td>True</td>
<td>4</td>
<td>No charger</td>
<td>Every thing is good about iPhones, there's not...</td>
<td>https://www.amazon.in/gp/customer-reviews/R345...</td>
<td>Reviewed in India on 11 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[Every, thing, is, good, about, iPhones, there...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>16-08-2024</td>
<td>True</td>
<td>5</td>
<td>iPhone 13 256GB</td>
<td>It look so fabulous, I am android user switche...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2HJ...</td>
<td>Reviewed in India on 16 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[It, look, so, fabulous, I, am, android, user,...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>14-05-2024</td>
<td>True</td>
<td>4</td>
<td>Flip camera option nill</td>
<td>I tried to flip camera while recording but no ...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3Y7...</td>
<td>Reviewed in India on 14 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[I, tried, to, flip, camera, while, recording,...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>24-06-2024</td>
<td>True</td>
<td>5</td>
<td>Product</td>
<td>100% genuine</td>
<td>https://www.amazon.in/gp/customer-reviews/R1P9...</td>
<td>Reviewed in India on 24 June 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[100, genuine]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>18-05-2024</td>
<td>True</td>
<td>5</td>
<td>Good product</td>
<td>Happy to get the iPhone 13 in Amazon offer</td>
<td>https://www.amazon.in/gp/customer-reviews/R1XI...</td>
<td>Reviewed in India on 18 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[Happy, to, get, the, iPhone, 13, in, Amazon, ...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3057</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-10-2023</td>
<td>True</td>
<td>1</td>
<td>Very bad experience with i phone 13</td>
<td>Useless phon never buy this heat n useless cam...</td>
<td>https://www.amazon.in/gp/customer-reviews/R10O...</td>
<td>Reviewed in India on 11 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[Useless, phon, never, buy, this, heat, n, use...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3058</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>14-10-2022</td>
<td>True</td>
<td>2</td>
<td>not happy with this apple product</td>
<td>iam not happy with this product why because ch...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2FW...</td>
<td>Reviewed in India on 14 October 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[iam, not, happy, with, this, product, why, be...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3059</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>24-02-2022</td>
<td>True</td>
<td>3</td>
<td>Good phone</td>
<td>Good phone</td>
<td>https://www.amazon.in/gp/customer-reviews/R2C7...</td>
<td>Reviewed in India on 24 February 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[Good, phone]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3060</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>16-10-2023</td>
<td>True</td>
<td>1</td>
<td>Battery discharge</td>
<td>While charging mobile it's getting so hot even...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3K0...</td>
<td>Reviewed in India on 16 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[While, charging, mobile, it, 's, getting, so,...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3061</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-11-2023</td>
<td>True</td>
<td>1</td>
<td>Batter power needs to be improved</td>
<td>Battery power is be very bad need to chat on d...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2QO...</td>
<td>Reviewed in India on 11 November 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[Battery, power, is, be, very, bad, need, to, ...</td>
</tr>
</tbody>
</table>

<p>3062 rows × 13 columns</p>
</div>

</div>

:::

Quitar Stop Words

``` python
df['preprocessedReview'] = df['preprocessedReview'].apply(lambda tokens: [word for word in tokens if not nlp.vocab[word].is_stop])

df
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">productAsin</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">isVerified</th>
<th data-quarto-table-cell-role="th">ratingScore</th>
<th data-quarto-table-cell-role="th">reviewTitle</th>
<th data-quarto-table-cell-role="th">reviewDescription</th>
<th data-quarto-table-cell-role="th">reviewUrl</th>
<th data-quarto-table-cell-role="th">reviewedIn</th>
<th data-quarto-table-cell-role="th">variant</th>
<th data-quarto-table-cell-role="th">variantAsin</th>
<th data-quarto-table-cell-role="th">ratingPositive</th>
<th data-quarto-table-cell-role="th">preprocessedReview</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>11-08-2024</td>
<td>True</td>
<td>4</td>
<td>No charger</td>
<td>Every thing is good about iPhones, there's not...</td>
<td>https://www.amazon.in/gp/customer-reviews/R345...</td>
<td>Reviewed in India on 11 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[thing, good, iPhones, compared, speed, ios, d...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>16-08-2024</td>
<td>True</td>
<td>5</td>
<td>iPhone 13 256GB</td>
<td>It look so fabulous, I am android user switche...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2HJ...</td>
<td>Reviewed in India on 16 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[look, fabulous, android, user, switched, appl...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>14-05-2024</td>
<td>True</td>
<td>4</td>
<td>Flip camera option nill</td>
<td>I tried to flip camera while recording but no ...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3Y7...</td>
<td>Reviewed in India on 14 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[tried, flip, camera, recording, facility, add...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>24-06-2024</td>
<td>True</td>
<td>5</td>
<td>Product</td>
<td>100% genuine</td>
<td>https://www.amazon.in/gp/customer-reviews/R1P9...</td>
<td>Reviewed in India on 24 June 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[100, genuine]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>18-05-2024</td>
<td>True</td>
<td>5</td>
<td>Good product</td>
<td>Happy to get the iPhone 13 in Amazon offer</td>
<td>https://www.amazon.in/gp/customer-reviews/R1XI...</td>
<td>Reviewed in India on 18 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[Happy, iPhone, 13, Amazon, offer]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3057</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-10-2023</td>
<td>True</td>
<td>1</td>
<td>Very bad experience with i phone 13</td>
<td>Useless phon never buy this heat n useless cam...</td>
<td>https://www.amazon.in/gp/customer-reviews/R10O...</td>
<td>Reviewed in India on 11 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[Useless, phon, buy, heat, n, useless, camera,...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3058</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>14-10-2022</td>
<td>True</td>
<td>2</td>
<td>not happy with this apple product</td>
<td>iam not happy with this product why because ch...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2FW...</td>
<td>Reviewed in India on 14 October 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[iam, happy, product, charger, provided, apple...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3059</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>24-02-2022</td>
<td>True</td>
<td>3</td>
<td>Good phone</td>
<td>Good phone</td>
<td>https://www.amazon.in/gp/customer-reviews/R2C7...</td>
<td>Reviewed in India on 24 February 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[Good, phone]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3060</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>16-10-2023</td>
<td>True</td>
<td>1</td>
<td>Battery discharge</td>
<td>While charging mobile it's getting so hot even...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3K0...</td>
<td>Reviewed in India on 16 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[charging, mobile, getting, hot, mobile, heated]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3061</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-11-2023</td>
<td>True</td>
<td>1</td>
<td>Batter power needs to be improved</td>
<td>Battery power is be very bad need to chat on d...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2QO...</td>
<td>Reviewed in India on 11 November 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[Battery, power, bad, need, chat, daily, basis...</td>
</tr>
</tbody>
</table>

<p>3062 rows × 13 columns</p>
</div>

Lematización

``` python
df['preprocessedReview'] = df['preprocessedReview'].apply(lambda tokens: [token.lemma_ for token in nlp(" ".join(tokens))])

df
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">productAsin</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">isVerified</th>
<th data-quarto-table-cell-role="th">ratingScore</th>
<th data-quarto-table-cell-role="th">reviewTitle</th>
<th data-quarto-table-cell-role="th">reviewDescription</th>
<th data-quarto-table-cell-role="th">reviewUrl</th>
<th data-quarto-table-cell-role="th">reviewedIn</th>
<th data-quarto-table-cell-role="th">variant</th>
<th data-quarto-table-cell-role="th">variantAsin</th>
<th data-quarto-table-cell-role="th">ratingPositive</th>
<th data-quarto-table-cell-role="th">preprocessedReview</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>11-08-2024</td>
<td>True</td>
<td>4</td>
<td>No charger</td>
<td>Every thing is good about iPhones, there's not...</td>
<td>https://www.amazon.in/gp/customer-reviews/R345...</td>
<td>Reviewed in India on 11 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[thing, good, iPhones, compare, speed, ios, di...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>16-08-2024</td>
<td>True</td>
<td>5</td>
<td>iPhone 13 256GB</td>
<td>It look so fabulous, I am android user switche...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2HJ...</td>
<td>Reviewed in India on 16 August 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[look, fabulous, android, user, switch, apple,...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>14-05-2024</td>
<td>True</td>
<td>4</td>
<td>Flip camera option nill</td>
<td>I tried to flip camera while recording but no ...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3Y7...</td>
<td>Reviewed in India on 14 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[try, flip, camera, recording, facility, add, ...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>24-06-2024</td>
<td>True</td>
<td>5</td>
<td>Product</td>
<td>100% genuine</td>
<td>https://www.amazon.in/gp/customer-reviews/R1P9...</td>
<td>Reviewed in India on 24 June 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[100, genuine]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>B09G9BL5CP</td>
<td>India</td>
<td>18-05-2024</td>
<td>True</td>
<td>5</td>
<td>Good product</td>
<td>Happy to get the iPhone 13 in Amazon offer</td>
<td>https://www.amazon.in/gp/customer-reviews/R1XI...</td>
<td>Reviewed in India on 18 May 2024</td>
<td>Colour: MidnightSize: 256 GB</td>
<td>B09G9BQS98</td>
<td>Positive</td>
<td>[happy, iPhone, 13, Amazon, offer]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3057</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-10-2023</td>
<td>True</td>
<td>1</td>
<td>Very bad experience with i phone 13</td>
<td>Useless phon never buy this heat n useless cam...</td>
<td>https://www.amazon.in/gp/customer-reviews/R10O...</td>
<td>Reviewed in India on 11 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[useless, phon, buy, heat, n, useless, camera,...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3058</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>14-10-2022</td>
<td>True</td>
<td>2</td>
<td>not happy with this apple product</td>
<td>iam not happy with this product why because ch...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2FW...</td>
<td>Reviewed in India on 14 October 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[iam, happy, product, charger, provide, apple,...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3059</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>24-02-2022</td>
<td>True</td>
<td>3</td>
<td>Good phone</td>
<td>Good phone</td>
<td>https://www.amazon.in/gp/customer-reviews/R2C7...</td>
<td>Reviewed in India on 24 February 2022</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[good, phone]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3060</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>16-10-2023</td>
<td>True</td>
<td>1</td>
<td>Battery discharge</td>
<td>While charging mobile it's getting so hot even...</td>
<td>https://www.amazon.in/gp/customer-reviews/R3K0...</td>
<td>Reviewed in India on 16 October 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[charge, mobile, get, hot, mobile, heated]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3061</td>
<td>B09G9D8KRQ</td>
<td>India</td>
<td>11-11-2023</td>
<td>True</td>
<td>1</td>
<td>Batter power needs to be improved</td>
<td>Battery power is be very bad need to chat on d...</td>
<td>https://www.amazon.in/gp/customer-reviews/R2QO...</td>
<td>Reviewed in India on 11 November 2023</td>
<td>Colour: (PRODUCT) REDSize: 128 GB</td>
<td>B09G99CW2N</td>
<td>Negative</td>
<td>[battery, power, bad, need, chat, daily, basis...</td>
</tr>
</tbody>
</table>

<p>3062 rows × 13 columns</p>
</div>

Las técnicas aplicadas ayudan a limpiar y preparar el texto de la
siguiente manera:  
**Tokenización**: Divide el texto en palabras individuales (tokens),
facilitando el análisis palabra por palabra. Esto permite procesar el
texto de manera más estructurada.  
**Eliminación de Stop Words**: Remueve palabras comunes que no aportan
mucho significado (como “the”, “and”, etc.), permitiendo que el análisis
se concentre en palabras más relevantes.  
**Lematización**: Reduce las palabras a su forma base o raíz, eliminando
variaciones gramaticales (por ejemplo, “running” se convierte en “run”).
Esto ayuda a unificar conceptos y mejora la precisión en el análisis.  
Estas técnicas son esenciales para eliminar ruido en el texto y
convertirlo en una forma más adecuada para el análisis posterior, ademas
de reducir el tiempo de lectura y ejecucion del codigo.

#### Parte 3: Representación del Texto con Bag of Words

**Bag of Words (BoW)**

Instalar scikit-learn

    %pip install scikit-learn

    ::: {.cell execution_count=60}
    ``` {.python .cell-code}
    from sklearn.feature_extraction.text import CountVectorizer

    df['preprocessedReviewJoined'] = df['preprocessedReview'].apply(lambda tokens: ' '.join(tokens))

    vectorizer = CountVectorizer()

    X_bow = vectorizer.fit_transform(df['preprocessedReviewJoined'])

    bow_df = pd.DataFrame(X_bow.toarray(), columns=vectorizer.get_feature_names_out())

    bow_df

<div class="cell-output cell-output-display" execution_count="60">

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">00</th>
<th data-quarto-table-cell-role="th">000</th>
<th data-quarto-table-cell-role="th">02</th>
<th data-quarto-table-cell-role="th">03</th>
<th data-quarto-table-cell-role="th">05</th>
<th data-quarto-table-cell-role="th">06</th>
<th data-quarto-table-cell-role="th">09</th>
<th data-quarto-table-cell-role="th">0display</th>
<th data-quarto-table-cell-role="th">10</th>
<th data-quarto-table-cell-role="th">100</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">लत</th>
<th data-quarto-table-cell-role="th">वत</th>
<th data-quarto-table-cell-role="th">सम</th>
<th data-quarto-table-cell-role="th">समजत</th>
<th data-quarto-table-cell-role="th">समय</th>
<th data-quarto-table-cell-role="th">सर</th>
<th data-quarto-table-cell-role="th">सह</th>
<th data-quarto-table-cell-role="th">हक</th>
<th data-quarto-table-cell-role="th">हकश</th>
<th data-quarto-table-cell-role="th">हर</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3057</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3058</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3059</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3060</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3061</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>3062 rows × 5375 columns</p>
</div>

</div>

:::

``` python
bow_df.to_csv("../data/bow.csv",index=False)
```

Bag of Words (BoW) basicamente convirtio las reseñas preprocesadas
(columna preprocessedReview) en vectores numéricos. Cada reseña es
transformada en una fila de la matriz, donde cada columna representa una
palabra del vocabulario total de las reseñas. El valor en cada celda
indica cuántas veces aparece esa palabra en la reseña específica. BoW es
importante porque convierte texto en una representación numérica, es
simple porque solo cuenta la frecuencia de palabras sin considerar el
orden, y es eficaz al crear una matriz numérica fácil de interpretar y
procesar por algoritmos de machine learning.

#### Parte 4: Implementación de Clasificadores

**Clasificador Naive Bayes**

``` python
from sklearn.naive_bayes import MultinomialNB
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score

X_train, X_test, y_train, y_test = train_test_split(X_bow, df['ratingPositive'], test_size=0.2, random_state=42)

nb_classifier = MultinomialNB()

nb_classifier.fit(X_train, y_train)

y_pred = nb_classifier.predict(X_test)
```

Evaluar rendimiento

``` python
from sklearn.metrics import classification_report

report = classification_report(y_test, y_pred, target_names=['Negative', 'Positive'])

print(report)
```

                  precision    recall  f1-score   support

        Negative       0.81      0.70      0.75       183
        Positive       0.88      0.93      0.90       430

        accuracy                           0.86       613
       macro avg       0.84      0.81      0.83       613
    weighted avg       0.86      0.86      0.86       613

Al parecer el modelo es más preciso al predecir reseñas positivas (88%)
que negativas (81%). por otra paerte tiene un buen recall de 93% para
las reseñas positivas, a diferencia de un recall menor para las reseñas
negativas (70%). El modelo tiene una precisión general del 86% seun el
accuracy.En general, el modelo tiene un mejor desempeño en las reseñas
positivas que en las negativas. Esto puede deberse a un mayor número de
reseñas positivas en el conjunto de datos (430 frente a 183).

**Regresión Logística**

``` python
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import train_test_split
from sklearn.metrics import classification_report

X = X_bow
y = df['ratingPositive']

X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)

logistic_model = LogisticRegression(max_iter=1000)

logistic_model.fit(X_train, y_train)

y_pred = logistic_model.predict(X_test)

print(classification_report(y_test, y_pred))
```

                  precision    recall  f1-score   support

        Negative       0.86      0.66      0.75       281
        Positive       0.86      0.95      0.91       638

        accuracy                           0.86       919
       macro avg       0.86      0.81      0.83       919
    weighted avg       0.86      0.86      0.86       919

El modelo de Regresión Logística muestra un rendimiento similar al de
Naive Bayes, con una precisión del 86% para ambas clases, positivas y
negativas. Sin embargo, tiene un mejor recall para las reseñas positivas
(95%) en comparación con las negativas (66%), lo que sugiere que
identifica mejor las reseñas positivas. El F1-score también refleja un
mejor balance para las reseñas positivas (91%) frente al 75% para las
negativas. En general, el modelo tiene una precisión global del 86% y,
al igual que Naive Bayes, se desempeña mejor en la clasificación de
reseñas positivas, lo que probablemente se deba a la mayor cantidad de
ejemplos positivos (638 frente a 281 negativos) en el conjunto de datos.

#### Parte 5: Análisis y Conclusión

**Análisis de Resultados**

Comparando los resultados de Naive Bayes y Regresión Logística:

**Precisión**:  
Ambos modelos tienen precisión similar. En el caso de los valores
negativos, el modelo de regresión logística tiene una precisión
ligeramente mejor (0.86 frente a 0.81).

Para los valores positivos, ambos modelos tienen la misma precisión
(0.86-0.88).

**Recall**:  
En la categoría negativa, Naive Bayes tiene mejor recall (0.70 frente a
0.66).

Para los valores positivos, la regresión logística tiene mejor recall
(0.95 frente a 0.93), lo que significa que identifica más correctamente
las instancias positivas.

**F1-Score**:  
El F1-Score, que combina la precisión y el recall, es ligeramente mejor
para la regresión logística en los valores positivos (0.91 frente a
0.90). Por otra parte, en los valores negativos, tienen igual desempeño
(0.75 frente a 0.75).

**Conclusión**:  
Naive Bayes es más equilibrado en identificar tanto negativos como
positivos, aunque tiene un menor recall para positivos. Regresión
Logística sobresale en identificar correctamente los positivos con un
recall más alto, pero pierde algo de precisión en la clase negativa.

En general, Regresión Logística parece ser mejor para maximizar la
detección de positivos, mientras que Naive Bayes es más equilibrado en
ambas clases.

**Métodos de mejora sugeridos**

Mejor Preprocesamiento

1.  Normalización o Escalado: Los modelos como la regresión logística
    suelen beneficiarse de la normalización de los datos. Escalar las
    características podría mejorar su desempeño.  
2.  Textos Limpios y Consistentes: Considerar el uso de técnicas más
    avanzadas para limpiar los textos, como eliminar palabras muy
    comunes y no informativas.  
3.  N-gramas: Usar n-gramas (combinaciones de palabras) en lugar de
    palabras individuales podría capturar mejor el contexto en las
    reseñas, lo que puede mejorar el modelo.

Mejoras en el Modelo:

1.  Hiperparámetros: Ajustar hiperparámetros, como la regularización en
    la regresión logística o suavizado en Naive Bayes, podría mejorar
    los resultados.
2.  Ensamble de Modelos: Se podría explorar un ensamble de ambos modelos
    (Naive Bayes + Regresión Logística) para aprovechar las fortalezas
    de cada uno.
3.  Modelos más avanzados: Explorar otros algoritmos de clasificación,
    como máquinas de soporte vectorial (SVM) o redes neuronales, podría
    mejorar el desempeño.

[HTML de la pagina
desplegada](https://jabinherrera.github.io/MiniProyecto3/mp3.html)
